{% extends 'base.html' %}

{% load i18n %}

{% block head_title %}{% trans "Change Password" %}{% endblock %}

{% block content %}
    <div class="container d-flex flex-column align-items-center py-4" id="last_div">
        <h1 class="fs-3">{% trans "Change Password" %}</h1>

        <form method="POST" action="{% url 'account_change_password' %}" class="password_change width-50 py-4">
            {% csrf_token %}
            {{ form.as_p }}
            <button class="button squared btn-dark d-inline-block m-1" type="submit" name="action">{% trans "Change Password" %}</button>
            <a class="link button squared btn-danger d-inline-block m-1" href="{% url 'account_reset_password' %}">{% trans "Forgot Password?" %}</a>
        </form>
    </div>
    
{% endblock %}

{% block js %}
    <script>
        var last_div_pos = document.querySelector('#last_div').getBoundingClientRect();
        var footer =  document.querySelector('.footer');
        var footer_pos = footer.getBoundingClientRect();
        if (last_div_pos.bottom >= footer_pos.top) { // if there is an overlap
            footer.classList.remove("fixed-bottom");
        }
    </script>
{% endblock js %}